<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pl">
<head>
    <meta charset="UTF-8" />
    <title>Dodaj / Edytuj książkę</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet" />

    <style>
        html, body {
          height: 100%;
          margin: 0;
          padding: 0;
          font-family: 'Cinzel', serif;
          background: radial-gradient(circle at center, #1a0a2a 0%, #0d0716 100%);
          color: #e0d4f7;
          overflow: hidden;
          opacity: 0;
          animation: fadeIn 1s ease-in forwards;
        }

        @keyframes fadeIn {
          to { opacity: 1; }
        }

        #particles-js {
          position: fixed;
          width: 100%;
          height: 100%;
          z-index: -1;
        }

        .form-container {
          background: rgba(40, 20, 60, 0.85);
          padding: 2rem;
          border-radius: 1rem;
          box-shadow: 0 0 25px rgba(164, 123, 255, 0.3);
          max-width: 600px;
          margin: 4rem auto;
        }

        h1 {
          text-align: center;
          color: #d4af37;
          text-shadow: 0 0 8px #a47bff;
          margin-bottom: 2rem;
        }

        label {
          color: #dbc6f7;
          font-weight: bold;
        }

        .form-control {
          background-color: #2c1a40;
          border: 1px solid #a47bff;
          color: #f5eaff;
        }

        .form-control:focus {
          background-color: #2c1a40;
          border-color: #d4af37;
          box-shadow: 0 0 5px #a47bff;
          color: #fff;
        }

        .btn-success {
          background-color: #5d3a9b;
          border: none;
          color: #f0e6ff;
        }

        .btn-success:hover {
          background-color: #7b4dd2;
          box-shadow: 0 0 10px #a47bff;
        }

        .btn-secondary {
          background-color: #6a5acd;
          border: none;
          color: #fff;
        }

        .btn-secondary:hover {
          background-color: #7c6ee2;
          box-shadow: 0 0 10px #a47bff;
        }

        .btn {
          margin-right: 0.5rem;
        }
    </style>
</head>

<body>
<div id="particles-js"></div>

<div class="form-container">
    <h1>Dodaj / Edytuj książkę</h1>
    <form th:action="@{/books/save}" method="post" th:object="${book}">
        <input type="hidden" th:field="*{id}">
        <div class="mb-3">
            <label>Tytuł</label>
            <input type="text" class="form-control" th:field="*{title}" required>
        </div>
        <div class="mb-3">
            <label>Opis</label>
            <textarea class="form-control" th:field="*{description}" rows="5" required></textarea>
        </div>
        <button type="submit" class="btn btn-success">Zapisz</button>
        <a href="/" class="btn btn-secondary">Anuluj</a>
    </form>
</div>

<!-- Magic particles -->
<script src="https://cdn.jsdelivr.net/npm/particles.js"></script>
<script>
    particlesJS("particles-js", {
      "particles": {
        "number": { "value": 80, "density": { "enable": true, "value_area": 800 } },
        "color": { "value": "#a47bff" },
        "shape": { "type": "circle" },
        "opacity": { "value": 0.5 },
        "size": { "value": 3 },
        "line_linked": { "enable": true, "distance": 150, "color": "#a47bff", "opacity": 0.2, "width": 1 },
        "move": { "enable": true, "speed": 2 }
      },
      "interactivity": {
        "detect_on": "canvas",
        "events": {
          "onhover": { "enable": true, "mode": "grab" },
          "onclick": { "enable": false }
        },
        "modes": {
          "grab": { "distance": 140, "line_linked": { "opacity": 0.5 } }
        }
      },
      "retina_detect": true
    });
</script>
</body>
</html>
